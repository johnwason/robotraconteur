name: rr_python_dist_test_win
description: rr_python_dist_test_win
inputs:
  python_version:
    description: python_version
    required: true
  arch:
    description: arch
    required: true
  wheel_filename:
    description: wheel_filename
    required: true  

runs:
  using: "composite"
  steps:
  - uses: actions/setup-python@v4
    id: python3
    with:
      python-version: '${{ inputs.python_version }}'
      architecture: ${{ inputs.arch }}
  - name: pip3
    working-directory: artifacts/distfiles
    run: |
      echo ${{ inputs.wheel_filename }}
      dir ${{ inputs.wheel_filename }}
      python -m pip install ${{ inputs.wheel_filename }}
    shell: cmd
  - name: test
    run: |
      python -e "import RobotRaconteur as RR; print(RR.RobotRaconteurNode.s.RobotRaconteurVersion)"
    shell: cmd